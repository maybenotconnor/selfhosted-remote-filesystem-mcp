version: '3'

services:
  filesystem-mcp:
    build: .
    image: filesystem-mcp:latest
    container_name: filesystem-mcp
    restart: unless-stopped
    
    ports:
      - "8080:8080"
    
    volumes:
      # Mount your directories here - you can mount multiple directories as subdirectories
      # Single directory example:
      - ./data:/data
      
      # Multiple directories example (uncomment and modify as needed):
      # - ./documents:/data/documents
      # - ./projects:/data/projects
      # - ./photos:/data/photos
      # - /home/user/important:/data/important
      
      # Configuration directory for persistent JWT keys (auto-generated)
      - ./config:/config
    
    environment:
      # That's it! Just three simple settings:
      DATA_DIR: "/data"
      CONFIG_DIR: "/config"
      PORT: 8080